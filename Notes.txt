
New Featuere: Delivery check ask for more details


.\env\Scripts\python.exe -m pip install package_name
.\env\Scripts\python.exe -m pip install -r requirements.txt


SELECT *
FROM 'product_stats' ps
LEFT JOIN 'products' p
ON ps.cod = p.cod AND ps.v = p.v
WHERE ps.cod = 1505


GENERI VARI

Ordine domenica copertura 4 (pronto per le 16:00)

Ordine martedi copertura 4 (pronto per le 16:00)

Ordine giovedi copertura 5 (pronto per le 08:00)

SURGELATI

Ordine martedi copertura 5 (pronto per le 11:00)

Ordine venerdi copertura 6 (pronto per le 11:00)

DEPERIBILI

Ordine lunedi copertura 4 (pronto per le 09:00)

Ordine mercoledi copertura 4 (pronto per le 09:00)

Ordine venerdi copertura 5 (pronto per le 09:00)

GIORNI INVENTARIO:
martedi
giovedi
Sabato

lama-restock/
├── LamApp/                    # Django web application
│   └── LamApp/
│       ├── supermarkets/       # Main app
│       │   ├── models.py       # Database models
│       │   ├── views.py        # View logic
│       │   ├── forms.py        # Forms
│       │   ├── services.py     # Business logic
│       │   ├── templates/      # HTML templates
│       │   └── scripts/        # Automation scripts
│       ├── LamApp/             # Project settings
│       └── manage.py
├── DatabaseManager.py          # Core database operations
├── decision_maker.py           # Restock decision logic
├── helpers.py                  # Calculation helpers
├── scrapper.py                 # PAC2000A data scraping
├── orderer.py                  # Order placement
├── inventory_reader.py         # Inventory import
├── setup.py                    # Quick setup script
└── requirements.txt            # Python dependencies

def purge_entry():
    cur = db.conn.cursor()
    entries_to_delete = [
        (36090, 1),  # (cod, v)
        (34018, 1)
    ]

    for cod, v in entries_to_delete:
        # Delete from product_stats first (dependent)
        cur.execute("DELETE FROM product_stats WHERE cod=? AND v=?", (cod, v))
        
        # Then from products (main table)
        cur.execute("DELETE FROM products WHERE cod=? AND v=?", (cod, v))

    db.conn.commit()

def run_restock_view will need to be modified

38198 wtf

Decision maker skipped list to orderer (be more selective on what to put on list)   

Promos new overwrite promos old, to fix

INTEGER TO BOOLEAN BACK TO THE FUTURE


# ============================================================
# USEFUL MANAGEMENT COMMANDS
# ============================================================

# Restart Celery worker
sudo systemctl restart celery.service

# Restart Celery beat
sudo systemctl restart celerybeat.service

# Stop services
sudo systemctl stop celery.service
sudo systemctl stop celerybeat.service

# Check if services are enabled
sudo systemctl is-enabled celery.service
sudo systemctl is-enabled celerybeat.service

# View last 100 lines of logs
sudo journalctl -u celery.service -n 100
sudo journalctl -u celerybeat.service -n 100

# Follow logs in real-time
sudo journalctl -u celery.service -f

# Restart both services at once
sudo systemctl restart celery.service celerybeat.service
<!-- LamApp/supermarkets/templates/restock_logs/detail.html - ENHANCED WITH DISCOUNT -->
{% extends 'base.html' %}

{% block title %}Restock Log - {{ log.storage.name }}{% endblock %}
{% block page_title %}Restock Operation Details{% endblock %}

{% block extra_css %}
<style>
    .progress-stage {
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
        border-left: 4px solid #dee2e6;
    }
    
    .progress-stage.active {
        background-color: #e7f3ff;
        border-left-color: #0d6efd;
    }
    
    .progress-stage.completed {
        background-color: #d4edda;
        border-left-color: #28a745;
    }
    
    .progress-stage.failed {
        background-color: #f8d7da;
        border-left-color: #dc3545;
    }
    
    .cluster-section {
        border-left: 3px solid #0d6efd;
        padding-left: 15px;
        margin-bottom: 20px;
    }
    
    .sortable-header {
        cursor: pointer;
        user-select: none;
    }
    
    .sortable-header:hover {
        background-color: #f8f9fa;
    }
    
    .sort-icon {
        opacity: 0.3;
        font-size: 0.8rem;
    }
    
    .sort-icon.active {
        opacity: 1;
    }
    
    /* âœ… NEW: Discount badge styling */
    .discount-badge {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.85rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 4px;
        box-shadow: 0 2px 8px rgba(245, 87, 108, 0.3);
    }
    
    .discount-icon {
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }
    
    /* Table row highlight for sale items */
    tr.on-sale {
        background-color: #fff3f3 !important;
    }
</style>
{% endblock %}